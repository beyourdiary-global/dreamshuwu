RewriteEngine On

# Security: Block direct access to "src", EXCEPT for specific files

# 1. Allow Category API

RewriteCond %{REQUEST_URI} !^/src/pages/category/index\.php$

# 2. Allow Tag API

RewriteCond %{REQUEST_URI} !^/src/pages/tags/index\.php$

# 3. Allow Meta API

RewriteCond %{REQUEST_URI} !^/src/pages/meta/index\.php$

# 4. Block everything else in src/

RewriteRule ^src/ - [F,L]

ErrorDocument 404 /error404.php
